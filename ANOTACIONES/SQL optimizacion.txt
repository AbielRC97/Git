ALTER TABLE SCM_SELP_ALERTAS DROP CONSTRAINT PK_SCM_SELP_ALERTAS_ID -> Quitar Clustered en PK
DROP INDEX PK_SCM_SELP_ALERTAS_ID ON SCM_SELP_ALERTAS -> ELIMINAR UN INDEX
SET DATEFORMAT DMY; -> FORMATO DE FECHA DIA, MES Y AÃ‘O

//Comprimir informacion
ALTER TABLE CTE REBUILD PARTITION = ALL
WITH
(
	DATA_COMPRESSION = PAGE
)


SET STATISTICS IO ON --Debug de Consultar
SET STATISTICS TIME ON -- Verificar tiempo de ejecucion

SET STATISTICS IO OFF
SET STATISTICS TIME OFF


CREATE CLUSTERED INDEX IX_CTE_Cliente ON CTE(Cliente) -> CREAR INDICES CLUSTERED GLOBLES, SOLO PUEDE HABER UNO POR TABLA Y SE PUEDEN ANIDAR MAS CAMPOS 
CREATE INDEX IX_CTE_Cliente ON CTE(Cliente) INCLUDE(#CAMPOS) -> CREAR INDICES NONCLUSTERED 

FORCESEEK -> FORZAR EL USO DE INDICES PARA LAS CONSULTAS

FILLFACTOR -> PERMITE OPTIMIZAR FACTORES DE INDICES
CREATE INDEX IX_CTE_Cliente ON CTE(Cliente) INCLUDE(#CAMPOS) WITH(FILLFACTOR=80)

SP_SPACEUSED 'CTECTO' -> ESPCIO EN DISCO
CREATE NONCLUSTERED INDEX #NAMEINDEX ON #NAMETABLR(#CAMPO) INCLUDE(#CAMPOS) WITH(DATA_COMPRESSION=ON) -- CONSULTA A COMPRESION  A NIVEL DE FILA 
CREATE NONCLUSTERED INDEX #NAMEINDEX ON #NAMETABLR(#CAMPO) INCLUDE(#CAMPOS) WITH(DATA_COMPRESSION=PAGE) -- COMPRENSION A NIVEL DE PAGE

CREATE CLUSTERED COLUMNSTORE INDEX IX_#NAMETABLE_#NAMEFILE ON #NAMETABLE(#NAMECAMPO) -- CREACION DE INDEX COLUMSTORE CLUSTERED
CREATE NONCLUSTERED COLUMNSTORE INDEX IX_VTASHFACTURA_CS ON VTASHFACTURA(Nombre, Extension, NumeroImpresion) -- CREACION DE INDEX COLUMSTORE NONCLUSTERED

CONVERTIR UNIDAD LOGICA A MB
NUMUNIDADLOGICA * 8 = RESULTADO / 1024
RESULTADO/  1024



dbcc show_statistics ('VTASHFACTURA', 'IX_VTASHFACTURA_CS') with stat_header -- estadisticas de indices
dbcc show_statistics ('VTASHFACTURA', 'IX_VTASHFACTURA_CS') with density_vector --candidatos a indices
update statistics VTASHFACTURA with fullscan --actualizar estadisticas de indices
OPTION(MAXDOP #NUMPROCESADORES) -- SE USA EN EL WHERE Y ES PARA DELIMITAR EL NUMERO DE PROCESADORES A UTILIZAR
OPTION(LOOP JOIN) || (MERGE JOIN) || (HASH JOIN)

ALTER INDEX PK_Grupos_COD_GRUP ON TBLGRUPOS REBUILD --Reconstruir el indice
ALTER INDEX PK_Clientes_COD_ID ON tblClientes REORGANIZE --Reorganizar el indice